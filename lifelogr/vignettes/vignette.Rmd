---
title: "Introduction to lifelogr"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Vignette Title}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, echo = FALSE}
knitr::opts_chunk$set(collapse = TRUE, comment = "#>")
```

```{r}
library(lifelogr) # doesn't work yet
```


[Lifelogging][http://lifestreamblog.com/lifelogging/] is the "process of 
tracking personal data generated by our own behavioral activities."  Examples of
lifelogging include tracking one's exercise and sleep.  While devices like 
iPhones and fitbits make collecting data on oneself easy, interpreting that data
is more difficult.

The lifelogr package makes life logging easy by:

- Creating three sets of visualizations
- Creating an experimentation framework

This package was designed to work with fitbit data, but users can also
provide their own data.  However, except for Apple data, the data types must
match that provided here for lifelogr's functions to work.

## Data

Fitbit users can provide their username and password.  Fitbit allows login via
Facebook and Google, but this library only works with fitbit login.
```{r, eval = FALSE}
EX <- Person$new(fitbit_user_email = "example@domain.com", 
                 fitbit_user_pw = "password",
                 apple_data_file = "apple.csv",
                 addl_data = NA,
                 user_info = list("name" = "EX", "age" = 29, "gender" = "male"),
                 target_steps = 10000,
                 group_assignments = list(data.frame(NA), data.frame(NA)),
                 start_date = "2017-01-19", end_date = "2017-02-17")
```

```{r}
load("../data/EX.rda")
# data(EX)
```


iPhone users can provide their apple data as a csv.

Users can provide other sources of data as a data frame, as an argument to 
`addl_data` or `addl_data2`.

EX is an instance of the Person class, which has 3 main public data frames:
`fitbit_daily`, `fitbit_intraday`, and `util`.

```{r}
dplyr::glimpse(EX$fitbit_daily)
dplyr::glimpse(EX$fitbit_intraday)
dplyr::glimpse(EX$util)
```


## Visualization

```{r}
plot_sleep_all(EX)
```


## Figures

The figure sizes have been customised so that you can easily put two images side-by-side. 

```{r, fig.show='hold'}
plot(1:10)
plot(10:1)
```

You can enable figure captions by `fig_caption: yes` in YAML:

    output:
      rmarkdown::html_vignette:
        fig_caption: yes

Then you can use the chunk option `fig.cap = "Your figure caption."` in **knitr**.

## More Examples

```{r, echo=FALSE, results='asis'}
knitr::kable(head(mtcars, 10))
```

Also a quote using `>`:

> "He who gives up [code] safety for [code] speed deserves neither."
([via](https://twitter.com/hadleywickham/status/504368538874703872))
